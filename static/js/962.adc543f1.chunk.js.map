{"version":3,"file":"static/js/962.adc543f1.chunk.js","mappings":"gRACA,EAA0B,6BAA1B,EAA+F,0BAA/F,EAAiI,2B,UC6BjI,EA1BoB,SAAC,GAAgB,IAC7BA,EAD4B,EAAbC,OACEC,KAAI,gBAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,GAAIC,EAAhB,EAAgBA,OAAhB,OACzB,gBAAaC,UAAWC,EAAxB,WACE,eAAID,UAAWC,EAAf,SAA2BF,KAC3B,uBAAIF,MAFGC,EADgB,IAM3B,OACE,+BACE,gBAAKE,UAAWC,EAAhB,UACE,eAAID,UAAWC,EAAf,SAA0BP,OAIjC,E,UCiCD,EAzCgB,WACd,OAA0BQ,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QA0BR,OAxBAE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,mCAAG,yFACI,IAAjBT,EAAMU,OADO,iEAKfL,GAAW,GALI,UAMMM,EAAAA,EAAAA,IAAWL,GANjB,OAOO,KADhBM,EANS,QAOJF,SACTG,EAAAA,EAAAA,IAAM,qBAGRZ,EAASW,GAXM,kDAYNE,EAZM,KAYNA,SACTX,EAASW,EAASC,KAAKC,SACvBC,QAAQC,IAAIJ,EAASC,KAAKC,SAC1BH,EAAAA,GAAAA,MAAA,UAAeC,EAASC,KAAKC,UAfd,yBAiBfX,GAAW,GAjBI,6EAAH,qDAoBhBI,GACD,GAAE,CAACT,EAAMU,OAAQJ,KAGhB,gCACGJ,IAAS,cAAGL,UAAU,GAAb,SAAiBK,IAC1BE,IAAW,SAACe,EAAA,EAAD,IACXnB,IAAS,SAAC,EAAD,CAAaR,OAAQQ,KAC/B,SAAC,KAAD,MAGL,C,wLC/CKoB,E,QAAWC,EAAAA,OAAa,CAC5BC,QAAS,+BAETC,OAAQ,CACNC,QAAS,sCAIAC,EAAY,mCAAG,WAAMC,GAAN,yFACHN,EAASO,IAAI,iBAAkB,CACpDJ,OAAQ,CACNG,MAAAA,KAHsB,uBAClBX,EADkB,EAClBA,KADkB,kBAOnBA,EAAKa,SAPc,2CAAH,sDAUZC,EAAY,mCAAG,2GAAOC,EAAP,+BAAc,EAAd,SACHV,EAASO,IAAI,qBAAsB,CACxDJ,OAAQ,CACNO,KAAAA,KAHsB,uBAClBf,EADkB,EAClBA,KADkB,kBAMnBA,EAAKa,SANc,2CAAH,qDASZG,EAAY,mCAAG,WAAMzB,GAAN,yFACHc,EAASO,IAAT,iBAAuBrB,EAAvB,MADG,uBAClBS,EADkB,EAClBA,KADkB,kBAGnBA,GAHmB,2CAAH,sDAMZiB,EAAQ,mCAAG,WAAM1B,GAAN,yFACCc,EAASO,IAAT,iBAAuBrB,EAAvB,cADD,uBACdS,EADc,EACdA,KADc,kBAEfA,EAAKkB,MAFU,2CAAH,sDAKRtB,EAAU,mCAAG,WAAML,GAAN,yFACDc,EAASO,IAAT,iBAAuBrB,EAAvB,eADC,uBAChBS,EADgB,EAChBA,KADgB,kBAEjBA,EAAKa,SAFY,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/Movies/Reviews/ReviewsList/ReviewsList.module.css?74d9","components/Movies/Reviews/ReviewsList/ReviewsList.jsx","components/Movies/Reviews/Reviews.jsx","shared/services/movies-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ReviewsList_wrapper__RoD8z\",\"list\":\"ReviewsList_list__nqM2d\",\"item\":\"ReviewsList_item__imhOQ\",\"title\":\"ReviewsList_title__0KclK\"};","import PropTypes from 'prop-types';\n\nimport css from './ReviewsList.module.css';\n\nconst ReviewsList = ({ movies }) => {\n  const element = movies.map(({ content, id, author }) => (\n    <li key={id} className={css.item}>\n      <h2 className={css.title}>{author}</h2>\n      <p>{content}</p>\n    </li>\n  ));\n  return (\n    <>\n      <div className={css.wrapper}>\n        <ul className={css.item}>{element}</ul>\n      </div>\n    </>\n  );\n};\n\nReviewsList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      content: PropTypes.string.isRequired,\n      author: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default ReviewsList;\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { getReviews } from 'shared/services/movies-api';\nimport ReviewsList from './ReviewsList/ReviewsList';\nimport Loader from 'shared/components/Loader/Loader';\n\nconst Reviews = () => {\n  const [movie, setMovie] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      if (movie.length !== 0) {\n        return;\n      }\n      try {\n        setLoading(true);\n        const result = await getReviews(movieId);\n        if (result.length === 0) {\n          toast('Sorry, no reviews');\n        }\n        // console.log(result);\n        setMovie(result);\n      } catch ({ response }) {\n        setError(response.data.message);\n        console.log(response.data.message);\n        toast.error(`${response.data.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovie();\n  }, [movie.length, movieId]);\n\n  return (\n    <>\n      {error && <p className=\"\">{error}</p>}\n      {loading && <Loader />}\n      {movie && <ReviewsList movies={movie} />}\n      <ToastContainer />\n    </>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n\n  params: {\n    api_key: '5bbf892bcd99762773ec3ce2eced7cd4',\n  },\n});\n\nexport const searchMovies = async query => {\n  const { data } = await instance.get('/search/movie?', {\n    params: {\n      query,\n    },\n  });\n\n  return data.results;\n};\n\nexport const getAllMovies = async (page = 1) => {\n  const { data } = await instance.get('/trending/all/day?', {\n    params: {\n      page,\n    },\n  });\n  return data.results;\n};\n\nexport const getMovieById = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}?`);\n\n  return data;\n};\n\nexport const getCasts = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}/credits?`);\n  return data.cast;\n};\n\nexport const getReviews = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}//reviews?`);\n  return data.results;\n};\n\n// api key: 5bbf892bcd99762773ec3ce2eced7cd4\n\n//https://api.themoviedb.org/3/movie/550?api_key=5bbf892bcd99762773ec3ce2eced7cd4\n"],"names":["element","movies","map","content","id","author","className","css","useState","movie","setMovie","error","setError","loading","setLoading","movieId","useParams","useEffect","fetchMovie","length","getReviews","result","toast","response","data","message","console","log","Loader","instance","axios","baseURL","params","api_key","searchMovies","query","get","results","getAllMovies","page","getMovieById","getCasts","cast"],"sourceRoot":""}