"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[212],{8212:function(e,r,a){a.r(r),a.d(r,{default:function(){return J}});var t=a(1614),n=a(3433),o=a(5861),s=a(9439),c=a(4687),u=a.n(c),l=a(2791),i=a(5985),m=(a(5462),a(1243).Z.create({baseURL:"https://pixabay.com/api",params:{per_page:12,key:"31939981-403d02160b0621624e665fa7a",image_type:"photo",orientation:"horizontal"}})),h=function(){var e=(0,o.Z)(u().mark((function e(r){var a,t,n,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:1,e.next=3,m.get("/?&",{params:{q:r,page:a}});case 3:return t=e.sent,n=t.data,e.abrupt("return",n.hits);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),_=a(1413),d=a(4942),p=a(5671),f=a(3144),g=a(136),v=a(7277),b=a(9e3),x="SearchBar_Searchbar__pSoBj",S="SearchBar_SearchForm__zX2OJ",y="SearchBar_SearchForm__button__VEmu3",j="SearchBar_SearchForm__button__label__A1eia",I="SearchBar_SearchForm__input__9M04N",w=a(3329),Z=function(e){(0,g.Z)(a,e);var r=(0,v.Z)(a);function a(){var e;(0,p.Z)(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))).state={search:""},e.handleChange=function(r){var a=r.target,t=a.name,n=a.value;e.setState((0,d.Z)({},t,n))},e.handleSubmit=function(r){r.preventDefault(),(0,e.props.onSubmit)((0,_.Z)({},e.state))},e}return(0,f.Z)(a,[{key:"render",value:function(){var e=this.state.search,r=this.handleChange,a=this.handleSubmit;return(0,w.jsx)("header",{className:x,children:(0,w.jsxs)("form",{className:S,onSubmit:a,children:[(0,w.jsxs)("button",{type:"submit",className:y,children:[(0,w.jsx)("span",{className:j,children:"Search"}),(0,w.jsx)(b.Vph,{})]}),(0,w.jsx)("input",{className:I,name:"search",type:"text",value:e,autoComplete:"off",autoFocus:!0,onChange:r,required:!0})]})})}}]),a}(l.Component),F="ImageGalleryItem_ImageGalleryItem__MEcGL",k="ImageGalleryItem_ImageGalleryItem__image__18B84",M=function(e){var r=e.largeImageURL,a=e.tags,t=e.webformatURL,n=e.showPicture;return(0,w.jsx)("li",{onClick:function(){return n({alt:a,src:t})},className:F,children:(0,w.jsx)("img",{className:k,src:r,alt:a})})},N="ImageGallery_ImageGallery__HEayp",L=function(e){var r=e.pictures,a=e.showPicture;return(0,w.jsx)("ul",{className:N,children:r.map((function(e){var r=e.id,t=e.webformatURL,n=e.largeImageURL,o=e.tags;return(0,w.jsx)(M,{id:r,webformatURL:t,largeImageURL:n,tags:o,showPicture:a},r)}))})};L.defaultProps={pictures:[]};var C=a(2128),B="Button_Button__VJyz0",R=function(e){var r=e.loadMore;return(0,w.jsx)("button",{onClick:r,className:B,type:"button",children:"Load more"})},E=a(4164),G="Modal_overlay__piz+F",U="Modal_modal__Gse+J",A=document.querySelector("#modal-root"),P=function(e){(0,g.Z)(a,e);var r=(0,v.Z)(a);function a(){var e;(0,p.Z)(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))).closeModal=function(r){var a=r.target,t=r.currentTarget,n=r.code;a!==t&&"Escape"!==n||e.props.closeModal()},e}return(0,f.Z)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeModal)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeModal)}},{key:"render",value:function(){var e=this.closeModal,r=this.props.currentImage,a=r.alt,t=r.src;return console.log(this.props.currentImage),(0,E.createPortal)((0,w.jsx)("div",{className:G,onClick:e,children:(0,w.jsx)("div",{className:U,children:(0,w.jsx)("img",{src:t,alt:a})})}),A)}}]),a}(l.Component),q={btn:"ImageFinder_btn__g4I+m",Searchbar:"ImageFinder_Searchbar__TH+Yp",SearchForm:"ImageFinder_SearchForm__sLgLP","SearchForm-button":"ImageFinder_SearchForm-button__BAJCZ","SearchForm-button-label":"ImageFinder_SearchForm-button-label__6Rbne","SearchForm-input":"ImageFinder_SearchForm-input__r1A2E",Overlay:"ImageFinder_Overlay__xierR",Modal:"ImageFinder_Modal__bv9Ol"};function z(){var e=(0,l.useState)(""),r=(0,s.Z)(e,2),a=r[0],t=r[1],c=(0,l.useState)(1),m=(0,s.Z)(c,2),_=m[0],d=m[1],p=(0,l.useState)([]),f=(0,s.Z)(p,2),g=f[0],v=f[1],b=(0,l.useState)(!1),x=(0,s.Z)(b,2),S=x[0],y=x[1],j=(0,l.useState)(null),I=(0,s.Z)(j,2),F=I[0],k=I[1],M=(0,l.useState)(null),N=(0,s.Z)(M,2),B=N[0],E=N[1];(0,l.useEffect)((function(){if(a){var e=function(){var e=(0,o.Z)(u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,h(a,_);case 4:0===(r=e.sent).length&&i.Am.error("Sorry, there are no available images."),v((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(r))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),k(e.t0.message);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}}),[a,_]);return(0,w.jsxs)("div",{children:[(0,w.jsx)(Z,{onSubmit:function(e){e!==a?(t(e),v([]),d(1)):i.Am.warn("This is the same query!")}}),F&&(0,w.jsx)("p",{className:q.errorMassage,children:F}),S&&(0,w.jsx)(C.Z,{}),L&&(0,w.jsx)(L,{pictures:g,showPicture:function(e){E(e)}}),(0,w.jsx)("div",{className:q.btn,children:Boolean(g.length)&&!S&&(0,w.jsx)(R,{loadMore:function(){d((function(e){return e+1}))}})}),B&&(0,w.jsx)(P,{currentImage:B,closeModal:function(){E(null)}}),(0,w.jsx)(i.Ix,{})]})}var J=function(){return(0,w.jsx)(t.Z,{maxWidth:"xl",children:(0,w.jsx)(z,{})})}}}]);
//# sourceMappingURL=212.3150eab5.chunk.js.map